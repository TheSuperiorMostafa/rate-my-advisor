module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},63021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},50645,a=>{a.n(a.i(27572))},25210,a=>{a.n(a.i(2747))},17537,a=>{a.n(a.i(3363))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},2005,a=>{"use strict";var b=a.i(7997),c=a.i(717),d=a.i(39138);let e=(0,c.forwardRef)(({className:a,variant:c="default",children:e,...f},g)=>(0,b.jsx)("div",{ref:g,className:(0,d.cn)("rounded-xl p-6",{default:"bg-white border border-gray-200",elevated:"bg-white shadow-sm border border-gray-200",outlined:"bg-transparent border-2 border-gray-200",interactive:"bg-white border border-gray-200 hover:border-[#A78BFA] hover:shadow-md transition-all cursor-pointer"}[c],a),...f,children:e}));e.displayName="Card",a.s(["Card",0,e])},22755,a=>{"use strict";a.s(["AutocompleteSearch",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AutocompleteSearch() from the server but AutocompleteSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/search/AutocompleteSearch.tsx <module evaluation>","AutocompleteSearch")},95280,a=>{"use strict";a.s(["AutocompleteSearch",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call AutocompleteSearch() from the server but AutocompleteSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/search/AutocompleteSearch.tsx","AutocompleteSearch")},81492,a=>{"use strict";a.i(22755);var b=a.i(95280);a.n(b)},3482,a=>{"use strict";a.s(["StarRating",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call StarRating() from the server but StarRating is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/StarRating.tsx <module evaluation>","StarRating")},18586,a=>{"use strict";a.s(["StarRating",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call StarRating() from the server but StarRating is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ui/StarRating.tsx","StarRating")},42694,a=>{"use strict";a.i(3482);var b=a.i(18586);a.n(b)},52769,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(95936),e=a.i(2005),f=a.i(42694),g=a.i(72030),h=a.i(39138);function i({id:a,firstName:c,lastName:i,slug:j,title:k,reviewCount:l,overallRating:m,className:n}){let o=`${c} ${i}`,p=`/a/${a}/${j}`;return(0,b.jsx)(d.default,{href:p,className:(0,h.cn)("block",n),children:(0,b.jsx)(e.Card,{variant:"interactive",className:"group",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1 group-hover:text-[#5B2D8B] transition-colors",children:o}),k&&(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-1",children:k}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:void 0!==m&&m>0?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.StarRating,{rating:m,size:"sm",showValue:!0}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["(",l," ",1===l?"review":"reviews",")"]})]}):(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[l," ",1===l?"review":"reviews"]})})]}),(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5 text-gray-400 group-hover:text-[#5B2D8B] transition-colors flex-shrink-0"})]})})})}var j=a.i(81492),k=a.i(28935),l=a.i(66518),m=a.i(55446);async function n(a){try{return await l.prisma.department.findUnique({where:{id:a},include:{university:{select:{id:!0,name:!0,slug:!0}}}})}catch{return null}}async function o(a,b){try{let c={departmentId:a,isActive:!0,...b&&{OR:[{firstName:{contains:b,mode:"insensitive"}},{lastName:{contains:b,mode:"insensitive"}}]}},[d,e]=await Promise.all([l.prisma.advisor.findMany({where:c,orderBy:[{lastName:"asc"},{firstName:"asc"}],select:{id:!0,firstName:!0,lastName:!0,slug:!0,title:!0,_count:{select:{reviews:{where:{status:"approved"}}}}}}),l.prisma.advisor.count({where:c})]);return{advisors:d,pagination:{total:e}}}catch{return{advisors:[],pagination:{total:0}}}}async function p({params:a}){let{departmentId:b}=await a,c=await n(b);return c?{title:`${c.name} - ${c.university.name} | Rate My Advisor`,description:`Browse advisors in ${c.name} at ${c.university.name}. Read student reviews and ratings.`}:{title:"Department Not Found"}}async function q({params:a,searchParams:d}){let{departmentId:f}=await a,{query:g}=await d,h="string"==typeof g?g:"",l=await n(f);l||(0,c.notFound)();let p=await o(f,h),q=p.advisors||[],r=[{label:"Home",href:"/"},{label:l.university.name,href:`/u/${l.university.id}/${l.university.slug}`},{label:l.name}];return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,b.jsxs)("div",{className:"container-custom py-8 md:py-12",children:[(0,b.jsx)(k.Breadcrumbs,{items:r,className:"mb-6"}),(0,b.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,b.jsx)("div",{className:"p-3 bg-[#F5F0FF] rounded-xl",children:(0,b.jsx)(m.GraduationCap,{className:"w-8 h-8 text-[#5B2D8B]"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:l.name}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:l.university.name})]})]}),(0,b.jsx)("div",{className:"max-w-2xl",children:(0,b.jsx)(j.AutocompleteSearch,{placeholder:`Find an advisor in ${l.name}...`,initialValue:h,autoFocus:!0,context:{universityId:l.university.id,departmentId:l.id,universityName:l.university.name}})})]})}),(0,b.jsxs)("div",{className:"container-custom py-8 md:py-12",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,b.jsxs)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Advisors",p.pagination?.total!==void 0&&(0,b.jsxs)("span",{className:"text-gray-500 font-normal ml-2",children:["(",p.pagination.total,")"]})]})}),q.length>0?(0,b.jsx)("div",{className:"space-y-4",children:q.map(a=>(0,b.jsx)(i,{id:a.id,firstName:a.firstName,lastName:a.lastName,slug:a.slug,title:a.title,reviewCount:a._count?.reviews||0},a.id))}):(0,b.jsxs)(e.Card,{className:"text-center py-12",children:[(0,b.jsx)(m.GraduationCap,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:h?"No advisors found":"No advisors yet"}),(0,b.jsx)("p",{className:"text-gray-600",children:h?"Try a different search term":"Advisors will appear here once added"})]})]})]})}a.s(["default",()=>q,"generateMetadata",()=>p],52769)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__0b879913._.js.map