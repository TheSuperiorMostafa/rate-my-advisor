{"version":3,"sources":["../../../../src/components/ui/Card.tsx","../../../../src/components/search/AutocompleteSearch.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/nav/UniversityContextSync.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/u/%5BuniversityId%5D/%5Bslug%5D/page.tsx"],"sourcesContent":["import { HTMLAttributes, forwardRef } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {\n  variant?: \"default\" | \"elevated\" | \"outlined\" | \"interactive\";\n  children: React.ReactNode;\n}\n\nexport const Card = forwardRef<HTMLDivElement, CardProps>(\n  ({ className, variant = \"default\", children, ...props }, ref) => {\n    const variants = {\n      default: \"bg-white border border-gray-200\",\n      elevated: \"bg-white shadow-sm border border-gray-200\",\n      outlined: \"bg-transparent border-2 border-gray-200\",\n      interactive: \"bg-white border border-gray-200 hover:border-[#A78BFA] hover:shadow-md transition-all cursor-pointer\",\n    };\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"rounded-xl p-6\", variants[variant], className)}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\nCard.displayName = \"Card\";\n\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AutocompleteSearch = registerClientReference(\n    function() { throw new Error(\"Attempted to call AutocompleteSearch() from the server but AutocompleteSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/search/AutocompleteSearch.tsx\",\n    \"AutocompleteSearch\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const UniversityContextSync = registerClientReference(\n    function() { throw new Error(\"Attempted to call UniversityContextSync() from the server but UniversityContextSync is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/nav/UniversityContextSync.tsx\",\n    \"UniversityContextSync\",\n);\n","import { Metadata } from \"next\";\nimport { notFound } from \"next/navigation\";\nimport { AutocompleteSearch } from \"@/components/search/AutocompleteSearch\";\nimport { Card } from \"@/components/ui/Card\";\nimport { Breadcrumbs } from \"@/components/ui/Breadcrumbs\";\nimport { GraduationCap } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { prisma } from \"@/lib/prisma\";\nimport { UniversityContextSync } from \"@/components/nav/UniversityContextSync\";\n\ninterface PageProps {\n  params: Promise<{\n    universityId: string;\n    slug: string;\n  }>;\n  searchParams: Promise<{ [key: string]: string | string[] | undefined }>;\n}\n\nasync function getUniversity(universityId: string) {\n  try {\n    const university = await prisma.university.findUnique({\n      where: { id: universityId },\n      include: {\n        departments: {\n          select: {\n            id: true,\n            name: true,\n            slug: true,\n            _count: {\n              select: {\n                advisors: true,\n              },\n            },\n          },\n          orderBy: { name: \"asc\" },\n        },\n      },\n    });\n    return university;\n  } catch {\n    return null;\n  }\n}\n\nexport async function generateMetadata({ params }: PageProps): Promise<Metadata> {\n  const { universityId } = await params;\n  const university = await getUniversity(universityId);\n\n  if (!university) {\n    return {\n      title: \"University Not Found\",\n    };\n  }\n\n  return {\n    title: `${university.name} - Rate My Advisor`,\n    description: `Browse departments and advisors at ${university.name}. Read student reviews and ratings.`,\n    openGraph: {\n      title: `${university.name} - Rate My Advisor`,\n      description: `Browse departments and advisors at ${university.name}`,\n    },\n  };\n}\n\nexport default async function UniversityPage({ params, searchParams }: PageProps) {\n  const { universityId } = await params;\n  const { query } = await searchParams;\n  const searchQuery = typeof query === \"string\" ? query : \"\";\n\n  const university = await getUniversity(universityId);\n\n  if (!university) {\n    notFound();\n  }\n\n  // Filter departments if search query provided\n  const departments = searchQuery\n    ? university.departments.filter((dept: any) =>\n        dept.name.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    : university.departments;\n\n  const breadcrumbs = [\n    { label: \"Home\", href: \"/\" },\n    { label: university.name },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Sync university context for nav */}\n      <UniversityContextSync\n        university={{\n          id: university.id,\n          name: university.name,\n          slug: university.slug,\n        }}\n      />\n      \n      {/* Header Section */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"container-custom py-8 md:py-12\">\n          <Breadcrumbs items={breadcrumbs} className=\"mb-6\" />\n          \n          <div className=\"flex items-start gap-4 mb-6\">\n            <div className=\"p-3 bg-[#F5F0FF] rounded-xl\">\n              <GraduationCap className=\"w-8 h-8 text-[#5B2D8B]\" />\n            </div>\n            <div className=\"flex-1\">\n              <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-2\">\n                {university.name}\n              </h1>\n              {university.location && (\n                <p className=\"text-lg text-gray-600\">{university.location}</p>\n              )}\n            </div>\n          </div>\n\n          <div className=\"max-w-2xl\">\n            <AutocompleteSearch\n              placeholder={`Find an advisor or department at ${university.name}...`}\n              initialValue={searchQuery}\n              autoFocus\n              context={{\n                universityId: university.id,\n                universityName: university.name,\n              }}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Departments Section */}\n      <div className=\"container-custom py-8 md:py-12\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-2xl md:text-3xl font-bold text-gray-900\">\n            Departments\n            {departments.length > 0 && (\n              <span className=\"text-gray-500 font-normal ml-2\">\n                ({departments.length})\n              </span>\n            )}\n          </h2>\n        </div>\n\n        {departments.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {departments.map((department: any) => (\n              <Link\n                key={department.id}\n                href={`/d/${department.id}/${department.slug}`}\n              >\n                <Card variant=\"interactive\" className=\"h-full\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-2 group-hover:text-[#5B2D8B] transition-colors\">\n                    {department.name}\n                  </h3>\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                    <GraduationCap className=\"w-4 h-4\" />\n                    <span>\n                      {department._count?.advisors || 0}{\" \"}\n                      {department._count?.advisors === 1 ? \"advisor\" : \"advisors\"}\n                    </span>\n                  </div>\n                </Card>\n              </Link>\n            ))}\n          </div>\n        ) : (\n          <Card className=\"text-center py-12\">\n            <GraduationCap className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n              {searchQuery ? `No departments found` : \"No departments yet\"}\n            </h3>\n            <p className=\"text-gray-600\">\n              {searchQuery\n                ? `Try a different search term`\n                : \"Departments will appear here once added\"}\n            </p>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2]}