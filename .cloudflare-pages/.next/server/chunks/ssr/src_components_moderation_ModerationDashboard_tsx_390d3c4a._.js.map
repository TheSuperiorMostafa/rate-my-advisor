{"version":3,"sources":["../../../../src/components/moderation/ModerationDashboard.tsx","../../../../src/components/moderation/ModerationTabs.tsx","../../../../src/components/moderation/ReviewModerationCard.tsx","../../../../src/components/ui/TagPills.tsx","../../../../src/components/ui/LoadingSpinner.tsx","../../../../src/components/ui/EmptyState.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { ModerationTabs } from \"./ModerationTabs\";\nimport { ReviewModerationCard } from \"./ReviewModerationCard\";\nimport { LoadingSpinner } from \"@/components/ui/LoadingSpinner\";\nimport { EmptyState } from \"@/components/ui/EmptyState\";\n\ntype TabType = \"pending\" | \"approved\" | \"rejected\" | \"reports\";\n\ninterface Review {\n  id: string;\n  text: string;\n  meetingType: string;\n  timeframe: string;\n  status: string;\n  isVerified: boolean;\n  createdAt: string;\n  advisor: {\n    id: string;\n    name: string;\n    department: string;\n    university: string;\n  };\n  ratings: Record<string, number>;\n  tags: string[];\n  reportCount?: number;\n}\n\nexport function ModerationDashboard() {\n  const [activeTab, setActiveTab] = useState<TabType>(\"pending\");\n  const [reviews, setReviews] = useState<Review[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const fetchReviews = async (tab: TabType) => {\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const status = tab === \"reports\" ? \"reported\" : tab;\n      const res = await fetch(`/api/mod/reviews?status=${status}&limit=50`);\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || \"Failed to fetch reviews\");\n      }\n\n      setReviews(data.data?.reviews || []);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to load reviews\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchReviews(activeTab);\n  }, [activeTab]);\n\n  const handleAction = async (reviewId: string, action: \"approve\" | \"reject\" | \"keep\" | \"remove\", reason?: string) => {\n    try {\n      if (action === \"approve\") {\n        const res = await fetch(`/api/mod/reviews/${reviewId}/approve`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({}),\n        });\n\n        if (!res.ok) {\n          throw new Error(\"Failed to approve review\");\n        }\n      } else if (action === \"reject\") {\n        if (!reason) {\n          alert(\"Please provide a rejection reason\");\n          return;\n        }\n\n        const res = await fetch(`/api/mod/reviews/${reviewId}/reject`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ reason, notes: \"\" }),\n        });\n\n        if (!res.ok) {\n          throw new Error(\"Failed to reject review\");\n        }\n      } else if (action === \"remove\") {\n        // Reject the review\n        const res = await fetch(`/api/mod/reviews/${reviewId}/reject`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ reason: \"Removed due to reports\", notes: \"\" }),\n        });\n\n        if (!res.ok) {\n          throw new Error(\"Failed to remove review\");\n        }\n      } else if (action === \"keep\") {\n        // Resolve reports but keep review\n        const res = await fetch(`/api/mod/reports/resolve`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ reviewId, action: \"dismiss\" }),\n        });\n\n        if (!res.ok) {\n          throw new Error(\"Failed to resolve reports\");\n        }\n      }\n\n      // Refresh reviews\n      await fetchReviews(activeTab);\n    } catch (err) {\n      alert(err instanceof Error ? err.message : \"Action failed\");\n    }\n  };\n\n  const getTabCounts = async () => {\n    // This could be optimized with a single API call\n    // For now, we'll fetch counts separately\n    return {\n      pending: 0,\n      approved: 0,\n      rejected: 0,\n      reports: 0,\n    };\n  };\n\n  return (\n    <div>\n      <ModerationTabs\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n      />\n\n      {loading ? (\n        <div className=\"flex justify-center py-12\">\n          <LoadingSpinner size=\"lg\" />\n        </div>\n      ) : error ? (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-800\">{error}</p>\n        </div>\n      ) : reviews.length === 0 ? (\n        <EmptyState\n          title={`No ${activeTab} reviews`}\n          description={\n            activeTab === \"pending\"\n              ? \"All reviews have been moderated\"\n              : activeTab === \"reports\"\n              ? \"No reported reviews\"\n              : `No ${activeTab} reviews found`\n          }\n        />\n      ) : (\n        <div className=\"space-y-4 mt-6\">\n          {reviews.map((review) => (\n            <ReviewModerationCard\n              key={review.id}\n              review={review}\n              onAction={handleAction}\n              showReports={activeTab === \"reports\"}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n","\"use client\";\n\ninterface ModerationTabsProps {\n  activeTab: \"pending\" | \"approved\" | \"rejected\" | \"reports\";\n  onTabChange: (tab: \"pending\" | \"approved\" | \"rejected\" | \"reports\") => void;\n}\n\nexport function ModerationTabs({ activeTab, onTabChange }: ModerationTabsProps) {\n  const tabs = [\n    { id: \"pending\" as const, label: \"Pending\", count: null },\n    { id: \"approved\" as const, label: \"Approved\", count: null },\n    { id: \"rejected\" as const, label: \"Rejected\", count: null },\n    { id: \"reports\" as const, label: \"Reports\", count: null },\n  ];\n\n  return (\n    <div className=\"border-b border-gray-200\">\n      <nav className=\"-mb-px flex space-x-8\">\n        {tabs.map((tab) => (\n          <button\n            key={tab.id}\n            onClick={() => onTabChange(tab.id)}\n            className={`\n              py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap\n              ${\n                activeTab === tab.id\n                  ? \"border-[#A78BFA] text-[#5B2D8B]\"\n                  : \"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300\"\n              }\n            `}\n          >\n            {tab.label}\n            {tab.count !== null && (\n              <span className=\"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs\">\n                {tab.count}\n              </span>\n            )}\n          </button>\n        ))}\n      </nav>\n    </div>\n  );\n}\n\n\n","\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\nimport { TagPills } from \"@/components/ui/TagPills\";\n\ninterface ReviewModerationCardProps {\n  review: {\n    id: string;\n    text: string;\n    meetingType: string;\n    timeframe: string;\n    status: string;\n    isVerified: boolean;\n    createdAt: string;\n    advisor: {\n      id: string;\n      name: string;\n      slug?: string;\n      department: string;\n      university: string;\n    };\n    ratings: Record<string, number>;\n    tags: string[];\n    reportCount?: number;\n  };\n  onAction: (reviewId: string, action: \"approve\" | \"reject\" | \"keep\" | \"remove\", reason?: string) => void;\n  showReports?: boolean;\n}\n\nconst meetingTypeLabels: Record<string, string> = {\n  in_person: \"In-Person\",\n  virtual: \"Virtual\",\n  email: \"Email\",\n  mixed: \"Mixed\",\n};\n\nconst timeframeLabels: Record<string, string> = {\n  last_6_months: \"Last 6 months\",\n  \"6_12_months\": \"6-12 months ago\",\n  \"1_2_years\": \"1-2 years ago\",\n  \"2_plus_years\": \"2+ years ago\",\n};\n\nexport function ReviewModerationCard({ review, onAction, showReports }: ReviewModerationCardProps) {\n  const [showRejectModal, setShowRejectModal] = useState(false);\n  const [rejectReason, setRejectReason] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const averageRating =\n    Object.values(review.ratings).reduce((sum, rating) => sum + rating, 0) /\n    Object.values(review.ratings).length;\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const handleReject = () => {\n    if (!rejectReason.trim()) {\n      alert(\"Please provide a rejection reason\");\n      return;\n    }\n\n    setIsProcessing(true);\n    onAction(review.id, \"reject\", rejectReason);\n    setShowRejectModal(false);\n    setRejectReason(\"\");\n    setIsProcessing(false);\n  };\n\n  const handleApprove = () => {\n    setIsProcessing(true);\n    onAction(review.id, \"approve\");\n    setIsProcessing(false);\n  };\n\n  const handleKeep = () => {\n    setIsProcessing(true);\n    onAction(review.id, \"keep\");\n    setIsProcessing(false);\n  };\n\n  const handleRemove = () => {\n    if (confirm(\"Are you sure you want to remove this review? This action cannot be undone.\")) {\n      setIsProcessing(true);\n      onAction(review.id, \"remove\");\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <div className=\"flex items-start justify-between mb-4\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">\n                Review for {review.advisor.name}\n              </h3>\n              {review.isVerified && (\n                <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800\">\n                  ✓ Verified Student\n                </span>\n              )}\n              {review.reportCount && review.reportCount > 0 && (\n                <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800\">\n                  {review.reportCount} {review.reportCount === 1 ? \"report\" : \"reports\"}\n                </span>\n              )}\n            </div>\n            <p className=\"text-sm text-gray-600 mb-1\">\n              {review.advisor.department} • {review.advisor.university}\n            </p>\n            <p className=\"text-xs text-gray-500\">\n              Submitted: {formatDate(review.createdAt)}\n            </p>\n          </div>\n          <Link\n            href={`/a/${review.advisor.id}${review.advisor.slug ? `/${review.advisor.slug}` : \"\"}`}\n            className=\"text-sm text-[#5B2D8B] hover:text-[#4A2375] underline\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            View Advisor Page →\n          </Link>\n        </div>\n\n        <div className=\"mb-4\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <span className=\"text-sm font-medium text-gray-700\">Overall Rating:</span>\n            <div className=\"flex items-center gap-1\">\n              {[1, 2, 3, 4, 5].map((star) => (\n                <span\n                  key={star}\n                  className={`text-lg ${\n                    star <= Math.round(averageRating) ? \"text-yellow-400\" : \"text-gray-300\"\n                  }`}\n                >\n                  ★\n                </span>\n              ))}\n              <span className=\"ml-2 text-sm font-medium text-gray-700\">\n                {averageRating.toFixed(1)} / 5.0\n              </span>\n            </div>\n          </div>\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-2 text-xs text-gray-600\">\n            {Object.entries(review.ratings).map(([category, rating]) => (\n              <div key={category}>\n                <span className=\"capitalize\">{category}:</span>{\" \"}\n                <span className=\"font-medium\">{rating}/5</span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mb-4 p-4 bg-gray-50 rounded-md\">\n          <p className=\"text-gray-700 whitespace-pre-wrap\">{review.text}</p>\n        </div>\n\n        <div className=\"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-4\">\n          <span>\n            <span className=\"font-medium\">Meeting:</span> {meetingTypeLabels[review.meetingType] || review.meetingType}\n          </span>\n          <span>\n            <span className=\"font-medium\">Timeframe:</span> {timeframeLabels[review.timeframe] || review.timeframe}\n          </span>\n          {review.tags.length > 0 && (\n            <div className=\"flex-1\">\n              <TagPills\n                tags={review.tags.map((tag) => ({\n                  id: tag,\n                  name: tag,\n                  slug: tag.toLowerCase().replace(/\\s+/g, \"-\"),\n                }))}\n              />\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-3 pt-4 border-t border-gray-200\">\n          {showReports ? (\n            <>\n              <Button\n                onClick={handleKeep}\n                disabled={isProcessing}\n                variant=\"outline\"\n                size=\"sm\"\n              >\n                Keep Review\n              </Button>\n              <Button\n                onClick={() => setShowRejectModal(true)}\n                disabled={isProcessing}\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"border-yellow-300 text-yellow-700 hover:bg-yellow-50\"\n              >\n                Re-Review\n              </Button>\n              <Button\n                onClick={handleRemove}\n                disabled={isProcessing}\n                size=\"sm\"\n                className=\"bg-red-600 hover:bg-red-700\"\n              >\n                Remove Review\n              </Button>\n            </>\n          ) : review.status === \"pending\" ? (\n            <>\n              <Button\n                onClick={handleApprove}\n                disabled={isProcessing}\n                size=\"sm\"\n                className=\"bg-green-600 hover:bg-green-700\"\n              >\n                Approve\n              </Button>\n              <Button\n                onClick={() => setShowRejectModal(true)}\n                disabled={isProcessing}\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"border-red-300 text-red-700 hover:bg-red-50\"\n              >\n                Reject\n              </Button>\n            </>\n          ) : (\n            <span className=\"text-sm text-gray-500\">\n              Status: <span className=\"font-medium capitalize\">{review.status}</span>\n            </span>\n          )}\n        </div>\n      </div>\n\n      {showRejectModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Reject Review</h3>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              Please provide a reason for rejecting this review. This reason is for internal use only and will not be shown to the user.\n            </p>\n            <textarea\n              value={rejectReason}\n              onChange={(e) => setRejectReason(e.target.value)}\n              placeholder=\"Enter rejection reason...\"\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#A78BFA] mb-4\"\n            />\n            <div className=\"flex gap-3 justify-end\">\n              <Button\n                onClick={() => {\n                  setShowRejectModal(false);\n                  setRejectReason(\"\");\n                }}\n                variant=\"outline\"\n                size=\"sm\"\n                disabled={isProcessing}\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={handleReject}\n                size=\"sm\"\n                className=\"bg-red-600 hover:bg-red-700\"\n                disabled={isProcessing || !rejectReason.trim()}\n              >\n                {isProcessing ? \"Processing...\" : \"Reject Review\"}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\n","import { Badge } from \"./Badge\";\nimport { cn } from \"@/lib/utils\";\n\ninterface Tag {\n  id: string;\n  name: string;\n  slug: string;\n}\n\ninterface TagPillsProps {\n  tags: Tag[];\n  className?: string;\n  size?: \"sm\" | \"md\";\n}\n\nexport function TagPills({ tags, className, size = \"md\" }: TagPillsProps) {\n  if (tags.length === 0) return null;\n\n  return (\n    <div className={cn(\"flex flex-wrap gap-2\", className)}>\n      {tags.map((tag) => (\n        <Badge key={tag.id} variant=\"info\" size={size}>\n          {tag.name}\n        </Badge>\n      ))}\n    </div>\n  );\n}\n","export function LoadingSpinner({ size = \"md\" }: { size?: \"sm\" | \"md\" | \"lg\" }) {\n  const sizeClasses = {\n    sm: \"w-4 h-4\",\n    md: \"w-8 h-8\",\n    lg: \"w-12 h-12\",\n  };\n\n  return (\n    <div className=\"flex items-center justify-center\">\n      <div\n        className={`${sizeClasses[size]} border-4 border-violet-200 border-t-[#5B2D8B] rounded-full animate-spin`}\n      />\n    </div>\n  );\n}\n\n\n","interface EmptyStateProps {\n  title: string;\n  description?: string;\n  action?: {\n    label: string;\n    onClick: () => void;\n  };\n}\n\nexport function EmptyState({ title, description, action }: EmptyStateProps) {\n  return (\n    <div className=\"text-center py-12\">\n      <svg\n        className=\"mx-auto h-12 w-12 text-gray-400\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n        />\n      </svg>\n      <h3 className=\"mt-2 text-sm font-medium text-gray-900\">{title}</h3>\n      {description && <p className=\"mt-1 text-sm text-gray-500\">{description}</p>}\n      {action && (\n        <div className=\"mt-6\">\n          <button\n            onClick={action.onClick}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#5B2D8B] hover:bg-[#5B2D8B] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#A78BFA]\"\n          >\n            {action.label}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":"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"}