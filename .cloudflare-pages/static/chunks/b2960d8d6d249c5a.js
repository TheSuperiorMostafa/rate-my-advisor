(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33494,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(18566),i=e.i(55436),a=e.i(37727),n=e.i(75157),l=e.i(22016),d=e.i(32095),o=e.i(7486),u=e.i(84614);let c={university:d.GraduationCap,department:o.Building2,advisor:u.User},m={university:"text-[#5B2D8B]",department:"text-blue-600",advisor:"text-teal-600"};function h({type:e,name:s,subtitle:r,href:i,isSelected:a=!1,onClick:d}){let o=c[e];return(0,t.jsxs)(l.default,{href:i,onClick:d,className:(0,n.cn)("flex items-start gap-3 p-3 rounded-lg transition-colors","hover:bg-gray-50 focus:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#A78BFA] focus:ring-offset-1",a&&"bg-gray-50 ring-2 ring-[#A78BFA] ring-offset-1"),role:"option","aria-selected":a,children:[(0,t.jsx)(o,{className:(0,n.cn)("w-5 h-5 flex-shrink-0 mt-0.5",m[e])}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900 truncate",children:s}),r&&(0,t.jsx)("div",{className:"text-sm text-gray-500 truncate mt-0.5",children:r})]})]})}function f({query:e,results:r,loading:a,selectedIndex:o,onSelect:u,context:c}){let m=(0,s.useRef)(null),f=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(f.current){let e=f.current.querySelector("a");e&&e.scrollIntoView({block:"nearest",behavior:"smooth"})}},[o]);let p=(()=>{if(!r)return[];let e=[],t=0;return c?.universityId||c?.departmentId?(r.advisors&&r.advisors.forEach(s=>{c?.departmentId,s.department.id,e.push({type:"advisor",data:s,href:`/a/${s.id}/${s.slug}`,subtitle:`${s.department.name} • ${s.university.name}`,index:t++})}),r.departments&&r.departments.forEach(s=>{e.push({type:"department",data:s,href:`/d/${s.id}/${s.slug}`,subtitle:s.university.name,index:t++})})):(r.universities&&r.universities.forEach(s=>{e.push({type:"university",data:s,href:`/u/${s.id}/${s.slug}`,subtitle:s.location||"",index:t++})}),r.departments&&r.departments.forEach(s=>{e.push({type:"department",data:s,href:`/d/${s.id}/${s.slug}`,subtitle:s.university.name,index:t++})}),r.advisors&&r.advisors.forEach(s=>{e.push({type:"advisor",data:s,href:`/a/${s.id}/${s.slug}`,subtitle:`${s.department.name} • ${s.university.name}`,index:t++})})),e})();if(a)return(0,t.jsx)("div",{ref:m,className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-96 overflow-y-auto",role:"listbox","aria-label":"Search results",children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 animate-pulse",children:[(0,t.jsx)("div",{className:"w-5 h-5 bg-gray-200 rounded flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]})]},e))})})});if(!r||0===p.length)return e.trim().length>=1?(0,t.jsx)("div",{ref:m,className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-lg",role:"listbox",children:(0,t.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,t.jsx)(i.Search,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),(0,t.jsxs)("p",{children:['No results found for "',e,'"']}),c?.universityId&&(0,t.jsxs)("p",{className:"text-sm mt-2",children:["Try searching for advisors or departments at ",c.universityName]})]})}):null;let x={universities:p.filter(e=>"university"===e.type),departments:p.filter(e=>"department"===e.type),advisors:p.filter(e=>"advisor"===e.type)};return Object.values(x).some(e=>e.length>0)?(0,t.jsx)("div",{ref:m,className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-xl shadow-lg max-h-96 overflow-y-auto",role:"listbox","aria-label":"Search results",children:(0,t.jsxs)("div",{className:"p-2",children:[x.universities.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:["Universities (",x.universities.length,")"]}),x.universities.map(e=>(0,t.jsx)("div",{ref:e.index===o?f:null,children:(0,t.jsx)(h,{type:e.type,id:e.data.id,name:e.data.name,slug:e.data.slug,subtitle:e.subtitle,href:e.href,isSelected:e.index===o,onClick:u})},e.data.id))]}),x.departments.length>0&&(0,t.jsxs)("div",{className:x.universities.length>0?"mt-2":"",children:[(0,t.jsxs)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:["Departments (",x.departments.length,")"]}),x.departments.map(e=>(0,t.jsx)("div",{ref:e.index===o?f:null,children:(0,t.jsx)(h,{type:e.type,id:e.data.id,name:e.data.name,slug:e.data.slug,subtitle:e.subtitle,href:e.href,isSelected:e.index===o,onClick:u})},e.data.id))]}),x.advisors.length>0&&(0,t.jsxs)("div",{className:x.departments.length>0||x.universities.length>0?"mt-2":"",children:[(0,t.jsxs)("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:["Advisors (",x.advisors.length,")"]}),x.advisors.map(e=>(0,t.jsx)("div",{ref:e.index===o?f:null,children:(0,t.jsx)(h,{type:e.type,id:e.data.id,name:e.data.name,slug:e.data.slug,subtitle:e.subtitle,href:e.href,isSelected:e.index===o,onClick:u})},e.data.id))]}),(c?.universityId||c?.departmentId)&&(0,t.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:(0,t.jsx)("div",{ref:p.length===o?f:null,children:(0,t.jsxs)(l.default,{href:"/",className:(0,n.cn)("flex items-center gap-2 p-3 rounded-lg text-sm font-medium transition-colors","hover:bg-gray-50 focus:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#A78BFA] focus:ring-offset-1",p.length===o&&"bg-gray-50 ring-2 ring-[#A78BFA] ring-offset-1","text-[#5B2D8B]"),onClick:u,children:[(0,t.jsx)(d.GraduationCap,{className:"w-4 h-4"}),"Search another university..."]})})})]})}):null}function p({placeholder:e="Search universities, departments, advisors...",initialValue:l="",className:d,size:o="md",autoFocus:u=!1,helperText:c,context:m}){let[h,p]=(0,s.useState)(l),[x,g]=(0,s.useState)(null),[v,y]=(0,s.useState)(!1),[b,j]=(0,s.useState)(0),[w,N]=(0,s.useState)(!1),$=(0,r.useRouter)();(0,r.usePathname)();let E=(0,s.useRef)(null),S=(0,s.useRef)(null),k=(0,s.useRef)(void 0);(0,s.useEffect)(()=>{u&&E.current&&E.current.focus()},[u]),(0,s.useEffect)(()=>{function e(e){S.current&&!S.current.contains(e.target)&&N(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.useEffect)(()=>{if(h.trim().length<1){g(null),N(!1);return}return k.current&&clearTimeout(k.current),k.current=setTimeout(async()=>{y(!0),N(!0);try{let e=new URLSearchParams({query:h.trim()});m?.universityId&&e.set("universityId",m.universityId),m?.departmentId&&e.set("departmentId",m.departmentId);let t=await fetch(`/api/autocomplete?${e.toString()}`);if(t.ok){let e=await t.json();g(e.data||{universities:[],departments:[],advisors:[]})}else g({universities:[],departments:[],advisors:[]})}catch(e){console.error("Autocomplete error:",e),g({universities:[],departments:[],advisors:[]})}finally{y(!1)}},250),()=>{k.current&&clearTimeout(k.current)}},[h,m]);let I=()=>x?(x.universities?.length||0)+(x.departments?.length||0)+(x.advisors?.length||0)+(m?.universityId||m?.departmentId?1:0):0;return(0,t.jsxs)("div",{ref:S,className:(0,n.cn)("relative w-full",d),children:[(0,t.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),h.trim().length>=1){let e=(()=>{if(!x)return[];let e=[];return m?.universityId||m?.departmentId?(x.advisors&&x.advisors.forEach(t=>{e.push({href:`/a/${t.id}/${t.slug}`})}),x.departments&&x.departments.forEach(t=>{e.push({href:`/d/${t.id}/${t.slug}`})})):(x.universities&&x.universities.forEach(t=>{e.push({href:`/u/${t.id}/${t.slug}`})}),x.departments&&x.departments.forEach(t=>{e.push({href:`/d/${t.id}/${t.slug}`})}),x.advisors&&x.advisors.forEach(t=>{e.push({href:`/a/${t.id}/${t.slug}`})})),e})();I(),e.length>0&&b>=0&&b<e.length?($.push(e[b].href),N(!1),p("")):m?.universityId&&b===e.length?($.push("/"),N(!1),p("")):($.push(`/search?q=${encodeURIComponent(h)}`),N(!1))}},children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:(0,t.jsx)(i.Search,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})}),(0,t.jsx)("input",{ref:E,type:"text",value:h,onChange:e=>{p(e.target.value),j(0)},onKeyDown:e=>{let t=I();"ArrowDown"===e.key?(e.preventDefault(),j(e=>e<t-1?e+1:0)):"ArrowUp"===e.key?(e.preventDefault(),j(e=>e>0?e-1:t-1)):"Escape"===e.key?(e.preventDefault(),N(!1)):e.key},onFocus:()=>{(h.trim().length>0||x)&&N(!0)},placeholder:e,className:(0,n.cn)("w-full border border-gray-300 rounded-xl","focus:outline-none focus:ring-2 focus:ring-[#A78BFA] focus:border-transparent","placeholder:text-gray-400",h?"pr-12":"pr-4",{sm:"py-2 text-sm pl-10 pr-10",md:"py-3 text-base pl-12 pr-12",lg:"py-4 text-lg pl-14 pr-14"}[o]),"aria-label":e,"aria-expanded":w,"aria-haspopup":"listbox",role:"combobox",autoComplete:"off"}),h&&(0,t.jsx)("button",{type:"button",onClick:()=>{p(""),N(!1),E.current&&E.current.focus()},className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Clear search",children:(0,t.jsx)(a.X,{className:"w-5 h-5"})})]})}),c&&(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:c}),w&&(0,t.jsx)(f,{query:h,results:x,loading:v,selectedIndex:b,onSelect:()=>{N(!1),p("")},context:m})]})}e.s(["AutocompleteSearch",()=>p],33494)},68588,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75157);function i({filled:e,halfFilled:s,size:i}){let a=e||s?"#D4AF37":"#E5E7EB",n=e||s?"#B8941F":"#D1D5DB";return(0,t.jsxs)("svg",{className:(0,r.cn)({sm:"w-3.5 h-3.5",md:"w-4 h-4",lg:"w-5 h-5",xl:"w-6 h-6"}[i],"flex-shrink-0"),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("defs",{children:s&&(0,t.jsxs)("linearGradient",{id:"half-fill",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,t.jsx)("stop",{offset:"50%",stopColor:a}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#E5E7EB"})]})}),(0,t.jsx)("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z",fill:s?"url(#half-fill)":a,stroke:n,strokeWidth:"0.5",strokeLinejoin:"round"})]})}function a({rating:e,maxRating:a=5,size:n="md",showValue:l=!1,interactive:d=!1,onChange:o,className:u}){let[c,m]=(0,s.useState)(null),h=c??e;return(0,t.jsxs)("div",{className:(0,r.cn)("flex items-center gap-0.5",u),role:"img","aria-label":`Rating: ${e.toFixed(1)} out of ${a}`,children:[Array.from({length:a},(s,a)=>{let l=a+1,u=l<=Math.floor(h),c=!u&&l-.5<=h&&h<l;return(0,t.jsx)("button",{type:"button",onClick:()=>{d&&o&&o(l)},onMouseEnter:()=>d&&m(l),onMouseLeave:()=>d&&m(null),disabled:!d,className:(0,r.cn)("transition-transform",d&&"cursor-pointer hover:scale-110",!d&&"cursor-default"),"aria-label":`${l} star${1!==l?"s":""}`,"aria-pressed":d?l===e:void 0,children:(0,t.jsx)(i,{filled:u,halfFilled:c,size:n})},l)}),l&&(0,t.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:e.toFixed(1)})]})}e.s(["StarRating",()=>a])}]);